(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5697:function(e,t,a){Promise.resolve().then(a.bind(a,7340))},7340:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(7437),s=a(2265);function l(){let{label:e,lastUpdatedError:t,version:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,[t,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(null),[n,i]=(0,s.useState)(null);async function d(e){try{let t=await fetch("https://oyemello.github.io/newsflash/public/data/feed.json",{cache:"no-store",signal:e});if(!t.ok)throw Error("HTTP ".concat(t.status));let r=await t.json();(null==r?void 0:r.generatedAt)&&a(r.generatedAt),(null==r?void 0:r.version)&&l(String(r.version)),i(null)}catch(e){i((null==e?void 0:e.message)||"fetch failed")}}return(0,s.useEffect)(()=>{let t=new AbortController;d(t.signal);let a=setInterval(()=>d(),e);return()=>{t.abort(),clearInterval(a)}},[e]),{label:(0,s.useMemo)(()=>{if(!t)return"—";try{return new Date(t).toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return t}},[t]),lastUpdatedError:n,version:r}}(6e4),[l,n]=(0,s.useState)([]),[i,d]=(0,s.useState)(!0),[c,o]=(0,s.useState)(""),[m,u]=(0,s.useState)([]),[x,h]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),f="https://oyemello.github.io/newsflash/public/data/feed.json",b=async()=>{try{d(!0);let e=await fetch(f);if(!e.ok)throw Error("Feed not found");let t=await e.json();t.items&&Array.isArray(t.items)?(n(t.items),u(t.items)):(n([]),u([])),h(null)}catch(e){n([]),u([]),h((null==e?void 0:e.message)||"Failed to fetch news")}finally{d(!1)}};(0,s.useEffect)(()=>{b();let e=setInterval(async()=>{try{let e=await fetch(f);if(!e.ok)return;let t=await e.json();t.version&&t.version!==a&&(n(t.items||[]),u(t.items||[]))}catch(e){}},6e4);return()=>clearInterval(e)},[a]),(0,s.useEffect)(()=>{""===c.trim()?u(l):u(l.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||(e.summary_90w||"").toLowerCase().includes(c.toLowerCase())||e.source_name.toLowerCase().includes(c.toLowerCase())))},[c,l]);let p=e=>{if(!e)return"Unknown date";let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/36e5);return a<1?"Just now":a<24?"".concat(a,"h ago"):a<48?"Yesterday":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return i&&0===l.length?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-4",children:"NewsFlash"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading the latest developer news..."})]})})})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"flex items-center gap-3 mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"NewsFlash"}),(0,r.jsxs)("div",{className:"ml-auto text-xs text-gray-500",children:["Last updated: ",(0,r.jsx)("span",{suppressHydrationWarning:!0,children:e}),t?(0,r.jsx)("span",{className:"text-red-500 ml-2",children:"(offline)"}):null]})]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4 text-center",children:"Stay updated with the latest developer news and releases"}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-6",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",placeholder:"Search news...",value:c,onChange:e=>o(e.target.value),className:"w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})})}),x&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:x}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(e=>{var t,a;return(0,r.jsxs)("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md card-hover p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsx)("span",{className:"badge badge-news",children:e.source_id}),(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:p(e.published)})]}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:e.summary_90w||e.title}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.source_name}),(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary text-sm",children:"Read More →"})]}),(e.key_fact||(null===(t=e.topics)||void 0===t?void 0:t.length))&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[e.key_fact&&(0,r.jsx)("span",{className:"badge badge-release",children:e.key_fact}),null===(a=e.topics)||void 0===a?void 0:a.slice(0,3).map(e=>(0,r.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["#",e]},e))]})})]},e.id)})}),0===m.length&&!i&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:c?"No news found matching your search.":"No news available at the moment."})}),(0,r.jsx)("footer",{className:"text-center mt-12 pt-8 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Powered by RSS Feeds • Built with Next.js"})})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5697)}),_N_E=e.O()}]);